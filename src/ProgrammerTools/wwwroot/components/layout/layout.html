<div class="page-layout">
    <div class="page-layout-side-nav">
        <el-menu v-bind:default-active="activedId"
                 class="page-layout-side-menu"
                 active-text-color="var(--theme-reverse)"
                 background-color="var(--gray-700)"
                 text-color="var(--theme-reverse)"
                 @select="handleSelect"
                 :collapse="isCollapse">

            <template v-for="menu in menus">
                <el-menu-item v-if="!menu.children||menu.children.length<=0" index="1" v-bind:class="[isCollapse?'large':'']">
                    <img v-if="menu.icon" v-bind:src="menu.icon" v-bind:class="[isCollapse?'large':'']" v-bind:title="menu.displayName"/>
                    <span>{{menu.displayName}}</span>
                </el-menu-item>
                <el-sub-menu v-else v-bind:index="menu.id" v-bind:class="[isCollapse?'large':'']">
                    <template #title>
                        <img v-if="menu.icon" v-bind:src="menu.icon" v-bind:class="[isCollapse?'large':'']" v-bind:title="menu.displayName" />
                        <span>{{menu.displayName}}</span>
                    </template>
                    <template v-for="subOneMenu in menu.children">
                        <el-menu-item v-if="!subOneMenu.children||subOneMenu.children.length<=0" v-bind:index="subOneMenu.id">
                            <img v-if="subOneMenu.icon" v-bind:src="subOneMenu.icon" v-bind:class="[isCollapse?'large':'']" v-bind:title="subOneMenu.displayName" />
                            <span>{{subOneMenu.displayName}}</span>
                        </el-menu-item>
                        <el-sub-menu v-else v-bind:index="subOneMenu.id">
                            <template #title>
                                <img v-if="subOneMenu.icon" v-bind:src="subOneMenu.icon" v-bind:class="[isCollapse?'large':'']" v-bind:title="subOneMenu.displayName" />
                                <span>{{subOneMenu.displayName}}</span>
                            </template>
                            <template v-for="subTwoMenu in subOneMenu.children">
                                <el-menu-item v-if="!subTwoMenu.children||subTwoMenu.children.length<=0" v-bind:index="subTwoMenu.id">
                                    <img v-if="subTwoMenu.icon" v-bind:src="subTwoMenu.icon" v-bind:class="[isCollapse?'large':'']" v-bind:title="subTwoMenu.displayName" />
                                    <span>{{subTwoMenu.displayName}}</span>
                                </el-menu-item>
                                <el-sub-menu v-else v-bind:index="subTwoMenu.id">
                                    <template #title>
                                        <img v-if="subTwoMenu.icon" v-bind:src="subTwoMenu.icon" v-bind:class="[isCollapse?'large':'']" v-bind:title="subTwoMenu.displayName" />
                                        <span>{{subTwoMenu.displayName}}</span>
                                    </template>
                                    <template v-for="subThreeMenu in subTwoMenu.children">
                                        <el-menu-item v-bind:index="subThreeMenu.id">
                                            <img v-if="subThreeMenu.icon" v-bind:src="subThreeMenu.icon" v-bind:class="[isCollapse?'large':'']" v-bind:title="subThreeMenu.displayName" />
                                            <span>{{subThreeMenu.displayName}}</span>
                                        </el-menu-item>
                                    </template>
                                </el-sub-menu>
                            </template>
                        </el-sub-menu>
                    </template>
                </el-sub-menu>
            </template>
        </el-menu>
    </div>

    <div class="page-layout-header">
        <button @click="isCollapse=!isCollapse">toggle</button>
        <h2>this is header</h2>
        <input v-model="activedId" type="number" />
        <router-tab />
    </div>

    <div class="page-layout-body">
        <h2>this is body</h2>
        <slot></slot>
        <h2 style="height:2000px">this is very height body</h2>
    </div>
</div>

